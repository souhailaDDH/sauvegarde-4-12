<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,   initial-scale=1.0">
    <script src="query.js"></script>
    <title>Portfolio</title>
</head>

<body>

    <h1 class="titre">PORTFOLIO</h1>
    <table id="portfolio">



    </table>
    <script>
        let competences_old = [
            { "head": "Gérer le patrimoine informatique", "lib": "Recenser et identifier les ressources numériques. Exploiter des référentiels, normes et standards adoptés par le prestataire informatique. Mettre en place et vérifier les niveaux d’habilitation associés à un service. Vérifier les conditions de la continuité d’un service informatique. Gérer des sauvegardes. Vérifier le respect des règles d’utilisation des ressources numériques." },
            { "head": "Répondre aux incidents et aux demandes d’assistance et d’évolution", "lib": "Collecter, suivre et orienter des demandes. Traiter des demandes concernant les services réseau et système, applicatifs. Traiter des demandes concernant les applications." },
            { "head": "Développer la présence en ligne de l’organisation", "lib": "Participer à la valorisation de l’image de l’organisation sur les médias numériques en tenant compte du cadre juridique et des enjeux économiques. Référencer les services en ligne de l’organisation et mesurer leur visibilité. Participer à l’évolution d’un site Web exploitant les données de l’organisation." },
            { "head": "Travailler en mode projet", "lib": "Analyser les objectifs et les modalités d’organisation d’un projet. Planifier les activités. Évaluer les indicateurs de suivi d’un projet et analyser les écarts." },
            { "head": "Mettre à disposition des utilisateurs un service informatique", "lib": "Réaliser les tests d’intégration et d’acceptation d’un service. Déployer un service. Accompagner les utilisateurs dans la mise en place d’un service." },
            { "head": "Organiser son développement professionnel", "lib": "Mettre en place son environnement d’apprentissage personnel. Mettre en œuvre des outils et stratégies de veille informationnelle. Gérer son identité professionnelle. Développer son projet professionnel." },
        ];
        let realisations = [
            "Réalisation 1",
            "Réalisation 2",
            "Réalisation 3",
        ]

        //console.log(competences);
        getData();
        function displayCompetences(competences) {
            $('#portfolio').append("<tr></tr>");
            competences.forEach(function (element) {
                $('#portfolio').find("tr").append("<th>" + element.title + "</th>");

                console.log(element.title);
            })
        }
        realisations.forEach(function (element) {
            $('#portfolio').append("<tr></tr>");
            $('#portfolio').find("tr").last().append("<td>" + element + "</td>");
        })

        function getData() {
            console.log("ajax");
            $.ajax({
            url: "db.php",
            dataType: "json",
            //method:"post",
            data: {
                
            },
            success: function( datas ) {
                console.log("plop",datas);
                displayCompetences(datas.competences)
            }
        });
    }
    </script>
</body>

</html>